/**
 * plugin.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*jshint unused:false */
/*global tinymce:true */

/**
 * Example plugin that adds a toolbar button and menu item.
 */
tinymce.PluginManager.add('insertembed', function(editor, url) {
	// Add a button that opens a window
	editor.addButton('insertembed', {
		text: '',
		icon: 'media',
		tooltip: 'Embedcode invoegen',
		onclick: function() {
			// Open window
			editor.windowManager.open({
				title: 'Plak je embedcode in het veld:',
                padding: 0,
                spacing: 0,
                width: 400,
                height: 160,
				body: [
						{
							type: 'textbox',
							minHeight: 125,
							flex: 1,
							multiline: !0,
							name: 'code',
							direction: "column",
							align: "stretch",
							label: '',
							classes: 'test'
						}
				],
				onsubmit: function(e) {
					// Insert content when the window form is submitted
					editor.insertContent(e.data.code);
				}
			});
		}
	});
});